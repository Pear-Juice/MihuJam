[gd_scene load_steps=20 format=3 uid="uid://cb7tmni4jkgpd"]

[ext_resource type="PackedScene" uid="uid://bpvsyyc4g8scg" path="res://Objects/Player.tscn" id="2_6dpmj"]
[ext_resource type="PackedScene" uid="uid://bjf5ynmdqpvgk" path="res://Objects/Shark.tscn" id="2_e4jod"]
[ext_resource type="Texture2D" uid="uid://cabpkoa2ha0gb" path="res://assets/images/bubble.svg" id="4_hn4lp"]
[ext_resource type="PackedScene" path="res://Objects/Worm.tscn" id="5_miws6"]
[ext_resource type="PackedScene" uid="uid://c1mt5hokcdfjd" path="res://Objects/Cage.tscn" id="5_w6t3y"]

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_dvpsr"]

[sub_resource type="Sky" id="Sky_uu8hd"]
sky_material = SubResource("ProceduralSkyMaterial_dvpsr")

[sub_resource type="Environment" id="Environment_ygvgb"]
background_color = Color(0.698039, 0.811765, 0.972549, 1)
background_energy_multiplier = 0.0
sky = SubResource("Sky_uu8hd")
ambient_light_sky_contribution = 0.0
ambient_light_energy = 0.0
fog_enabled = true
fog_light_color = Color(0, 0, 0.101961, 1)
fog_density = 0.0275
volumetric_fog_enabled = true
volumetric_fog_albedo = Color(0.0431373, 0, 0.337255, 1)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_puy63"]
albedo_color = Color(0, 0, 0, 1)

[sub_resource type="PlaneMesh" id="PlaneMesh_8vfg1"]
material = SubResource("StandardMaterial3D_puy63")
size = Vector2(1000, 1000)

[sub_resource type="BoxMesh" id="BoxMesh_l371t"]

[sub_resource type="Curve" id="Curve_s2hxw"]
_data = [Vector2(0, 0.0193548), 0.0, 8.48065, 0, 0, Vector2(0.3159, 1), 0.0, 0.0, 0, 0, Vector2(0.89749, 0.851613), -1.09804, -1.09804, 0, 0, Vector2(1, 0), 0.0, 0.0, 0, 0]
point_count = 4

[sub_resource type="CurveTexture" id="CurveTexture_pmmli"]
curve = SubResource("Curve_s2hxw")

[sub_resource type="Curve" id="Curve_a4ahb"]
_data = [Vector2(0, 0.178197), 0.0, 0.0, 0, 0, Vector2(1, 0.181298), 0.0, 0.0, 0, 0]
point_count = 2

[sub_resource type="CurveTexture" id="CurveTexture_r8bhc"]
curve = SubResource("Curve_a4ahb")

[sub_resource type="ParticleProcessMaterial" id="ParticleProcessMaterial_2ty6m"]
emission_shape_scale = Vector3(1, 0, 1)
emission_shape = 3
emission_box_extents = Vector3(15, 1, 15)
direction = Vector3(0, 0, 0)
gravity = Vector3(0, 0.5, 0)
scale_min = 0.0
alpha_curve = SubResource("CurveTexture_pmmli")
turbulence_enabled = true
turbulence_influence_over_life = SubResource("CurveTexture_r8bhc")

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_cctew"]
transparency = 2
alpha_scissor_threshold = 0.5
alpha_antialiasing_mode = 0
depth_draw_mode = 1
vertex_color_use_as_albedo = true
albedo_texture = ExtResource("4_hn4lp")
disable_receive_shadows = true
billboard_mode = 1
distance_fade_mode = 1
distance_fade_max_distance = 1.0

[sub_resource type="PlaneMesh" id="PlaneMesh_3cvgp"]
material = SubResource("StandardMaterial3D_cctew")
size = Vector2(0.2, 0.2)
orientation = 2

[sub_resource type="Curve3D" id="Curve3D_gryuh"]
_data = {
"points": PackedVector3Array(0, 0, 0, 0, 0, 0, -5.38278, -12.2696, 27.6817, 0, 0, 0, 0, 0, 0, -6.13141, -9.41049, 24.8505, 0, 0, 0, 0, 0, 0, -16.5731, -19.3204, 6.71692, 0, 0, 0, 0, 0, 0, -39.0967, -16.3471, -13.748, 0, 0, 0, 0, 0, 0, -35.6063, -11.042, -13.9699, 0, 0, 0, 0, 0, 0, -29.1856, -9.08657, -9.84211, 0, 0, 0, 0, 0, 0, -23.5796, -11.1326, -13.1957, 0, 0, 0, 0, 0, 0, -12.2583, -11.0432, -21.813, 0, 0, 0, 0, 0, 0, 1.29138, -16.9713, -39.2996, 0, 0, 0, 0, 0, 0, 11.3626, -10.4469, -23.5569, 0, 0, 0, 0, 0, 0, 14.699, -7.63154, -21.0807, 0, 0, 0, 0, 0, 0, 19.4267, -13.6148, -16.1223, 0, 0, 0, 0, 0, 0, 18.7432, -13.3164, -7.37288, 0, 0, 0, 0, 0, 0, 22.5239, -13.0325, 0.980058, 0, 0, 0, 0, 0, 0, 20.8002, -9.79014, 9.03702, 0, 0, 0, 0, 0, 0, 12.1671, -16.3894, 12.7603, 0, 0, 0, 0, 0, 0, 1.50852, -15.8926, 20.108, 0, 0, 0, 0, 0, 0, -2.01614, -13.3788, 28.1193),
"tilts": PackedFloat32Array(0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0)
}
point_count = 18

[node name="Main" type="Node3D"]

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_ygvgb")

[node name="Floor" type="MeshInstance3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -15.2314, -51.3588, 4.84295)
mesh = SubResource("PlaneMesh_8vfg1")

[node name="Cube" type="MeshInstance3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.812021, -11.1078, -9.04501)
mesh = SubResource("BoxMesh_l371t")

[node name="Shark" parent="." instance=ExtResource("2_e4jod")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -13.0589, -26.3903)

[node name="Player" parent="." instance=ExtResource("2_6dpmj")]
transform = Transform3D(-0.959191, 0, -0.28276, 0, 1, 0, 0.28276, 0, -0.959191, -1.284, -13.3899, -0.01)

[node name="GPUParticles3D" type="GPUParticles3D" parent="Player"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -16.1308, 0)
amount = 100
lifetime = 20.0
preprocess = 5.0
randomness = 1.0
visibility_aabb = AABB(-31.2538, -1.00001, -24.0354, 63.9678, 54.6824, 63.2687)
process_material = SubResource("ParticleProcessMaterial_2ty6m")
draw_pass_1 = SubResource("PlaneMesh_3cvgp")

[node name="Cage" parent="." instance=ExtResource("5_w6t3y")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -13.4141, 0)

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(0.868441, -4.98672e-08, 0.495792, -0.493388, -0.0983645, 0.86423, 0.0487683, -0.99515, -0.0854238, 0, 0, 0)
light_color = Color(0.513726, 0.862745, 1, 1)
light_energy = 0.1
shadow_enabled = true
shadow_opacity = 0.56
shadow_blur = 6.228

[node name="Worm" parent="." instance=ExtResource("5_miws6")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -14.6025, -22.7558, -35.2669)

[node name="Node" type="Node" parent="Worm"]

[node name="Path3D" type="Path3D" parent="Worm/Node"]
curve = SubResource("Curve3D_gryuh")

[node name="PathFollow3D" type="PathFollow3D" parent="Worm/Node/Path3D"]
transform = Transform3D(0.853993, -0.259437, 0.450986, 0.0481365, 0.902487, 0.428018, -0.518053, -0.343816, 0.783206, -8.79546, -11.9389, 20.224)
progress = 10.0
